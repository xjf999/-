{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-633a08e5\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"search\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"iconfont\"\n}, \"\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"search__cancle\"\n}, \"取消\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"area\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"area__title\"\n};\nconst _hoisted_7 = {\n  class: \"area__list\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"area\\\" data-v-633a08e5><h4 class=\\\"area__title\\\" data-v-633a08e5>热门 </h4><ul class=\\\"area__list\\\" data-v-633a08e5><li class=\\\"area__item\\\" data-v-633a08e5>杰杰土鸡</li><li class=\\\"area__item\\\" data-v-633a08e5>杰杰土鸡</li><li class=\\\"area__item\\\" data-v-633a08e5>杰杰土鸡</li><li class=\\\"area__item\\\" data-v-633a08e5>杰杰土鸡</li><li class=\\\"area__item\\\" data-v-633a08e5>杰杰土鸡</li><li class=\\\"area__item\\\" data-v-633a08e5>杰杰土鸡</li></ul></div>\", 1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"input\", {\n    class: \"search__area\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $setup.handleHistory && $setup.handleHistory(...args))\n  }, null, 32 /* HYDRATE_EVENTS */), _hoisted_4]), _createElementVNode(\"div\", _hoisted_5, [$setup.history.length ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_6, [_createTextVNode(\"搜索历史 \"), _createElementVNode(\"span\", {\n    class: \"area__title__clean\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.handleClear && $setup.handleClear(...args))\n  }, \"清除历史\")])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"ul\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.history, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"area__item\",\n      key: item\n    }, _toDisplayString(item), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _hoisted_8]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onChange","_cache","args","$setup","handleHistory","_hoisted_4","_hoisted_5","history","length","_hoisted_6","onClick","handleClear","_hoisted_7","_Fragment","_renderList","item","key","_hoisted_8"],"sources":["C:\\Users\\21112\\Desktop\\前端啊啊啊\\jingdon\\src\\views\\search\\Search.vue"],"sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"search\">\r\n            <span class=\"iconfont\">&#xeafe;</span>\r\n            <input class=\"search__area\"  @change=\"handleHistory\"/>\r\n            <div class=\"search__cancle\">取消</div>\r\n        </div>\r\n        <div class=\"area\">\r\n            <h4 class=\"area__title\" v-if=\"history.length\">搜索历史\r\n               <span class=\"area__title__clean\" @click=\"handleClear\">清除历史</span>\r\n            </h4>\r\n            <ul class=\"area__list\">\r\n                <li class=\"area__item\" v-for=\"item in history\" :key=\"item\">{{item}}</li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"area\">\r\n            <h4 class=\"area__title\">热门\r\n            </h4>\r\n            <ul class=\"area__list\">\r\n                <li class=\"area__item\">杰杰土鸡</li>\r\n                <li class=\"area__item\">杰杰土鸡</li>\r\n                <li class=\"area__item\">杰杰土鸡</li>\r\n                <li class=\"area__item\">杰杰土鸡</li>\r\n                <li class=\"area__item\">杰杰土鸡</li>\r\n                <li class=\"area__item\">杰杰土鸡</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n  name: 'SearchPage',\r\n  setup () {\r\n    const history = ref(JSON.parse(localStorage.history || '[]'))\r\n    const handleHistory = (e) => {\r\n      const searchVal = e.target.value\r\n      if (!searchVal) { return }\r\n      const hasVale = history.value.find(item => item === searchVal)\r\n      if (!hasVale) {\r\n        history.value.push(searchVal)\r\n        localStorage.history = JSON.stringify(history.value)\r\n      }\r\n    }\r\n    const handleClear = () => {\r\n      history.value = []\r\n      localStorage.history = JSON.stringify([])\r\n    }\r\n    return { history, handleHistory, handleClear }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n    .area {\r\n        margin-top: .24rem;\r\n        line-height: .32rem;\r\n        &__title {\r\n            font-size: .16rem;\r\n           &__clean {\r\n            float: right;\r\n           }\r\n        }\r\n        &__list {\r\n            margin: 0;\r\n            padding: 0;\r\n            list-style-type: none;\r\n        }\r\n        &__item {\r\n            display: inline-block;\r\n            margin-right: .1rem;\r\n            padding: 0 .1rem .1rem 0;\r\n            color: #333;\r\n            border-radius: .02rem;\r\n        }\r\n    }\r\n    margin: 0 .18rem;\r\n    .search {\r\n        position: relative;\r\n        display: flex;\r\n        line-height: .32rem;\r\n        margin-top: .16rem;\r\n        &__area {\r\n            flex: 1;\r\n            padding: 0 .12rem 0 .44rem;\r\n            border-radius: .16rem;\r\n        }\r\n        &__cancle {\r\n            margin-left: .12rem;\r\n            font-size: .18rem;\r\n        }\r\n    }\r\n     .iconfont {\r\n        width: .12rem;\r\n        position: absolute;\r\n        left: .16rem;\r\n        color: #b7b7b7;\r\n    }\r\n  }\r\n</style>\r\n"],"mappings":";;;EACSA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAQ;gEACfC,mBAAA,CAAsC;EAAhCD,KAAK,EAAC;AAAU,GAAC,GAAQ;gEAE/BC,mBAAA,CAAoC;EAA/BD,KAAK,EAAC;AAAgB,GAAC,IAAE;;EAE7BA,KAAK,EAAC;AAAM;;;EACTA,KAAK,EAAC;;;EAGNA,KAAK,EAAC;AAAY;;;uBAV9BE,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBFF,mBAAA,CAIM,OAJNG,UAIM,GAHFC,UAAsC,EACtCJ,mBAAA,CAAsD;IAA/CD,KAAK,EAAC,cAAc;IAAGM,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAC,aAAA,IAAAD,MAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;qCACnDG,UAAoC,C,GAExCV,mBAAA,CAOM,OAPNW,UAOM,GAN4BH,MAAA,CAAAI,OAAO,CAACC,MAAM,I,cAA5CZ,mBAAA,CAEK,MAFLa,UAEK,G,iBAFyC,OAC3C,GAAAd,mBAAA,CAAiE;IAA3DD,KAAK,EAAC,oBAAoB;IAAEgB,OAAK,EAAAT,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAQ,WAAA,IAAAR,MAAA,CAAAQ,WAAA,IAAAT,IAAA,CAAW;KAAE,MAAI,E,wCAE7DP,mBAAA,CAEK,MAFLiB,UAEK,I,kBADDhB,mBAAA,CAAwEiB,SAAA,QAAAC,WAAA,CAAlCX,MAAA,CAAAI,OAAO,EAAfQ,IAAI;yBAAlCnB,mBAAA,CAAwE;MAApEF,KAAK,EAAC,YAAY;MAA0BsB,GAAG,EAAED;wBAAQA,IAAI;sCAGzEE,UAWM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}